{% extends 'BethelScheduleViewBundle:Default:form_base.html.twig' %}

    {% block main %}
        <div class="row">
            <div class="large-12 columns">
                <div class="callout panel">
                    <p>{{ app.request.get('_route') == 'schedule_edit' ? 'Edit' : 'Create New' }} Schedule for {{ activeSemester }}</p>
                </div>
            </div>
        </div>

        <div class="row">
            {{ form_start(form) }}
            {{ form_errors(form) }}
            <div class="large-6 columns">
                {{ form_label(form.name) }}
                {{ form_errors(form.name) }}
                {{ form_widget(form.name) }}
            </div>
            <div class="large-6 columns">
                {{ form_label(form.room) }}
                {{ form_errors(form.room) }}
                {{ form_widget(form.room) }}
            </div>
        </div>
        <div class="row">
            <div class="large-4 columns">
                {{ form_label(form.startTime) }}
                {{ form_errors(form.startTime) }}
                {{ form_widget(form.startTime) }}
            </div>
            <div class="large-4 columns">
                {{ form_label(form.endTime) }}
                {{ form_errors(form.endTime) }}
                {{ form_widget(form.endTime) }}
            </div>
            <div class="large-4 columns">
                {{ form_label(form.dayOfWeek) }}
                {{ form_errors(form.dayOfWeek) }}
                {{ form_widget(form.dayOfWeek) }}
            </div>
        </div>
        <div class="row">
            <div class="large-12 columns">
                {{ form_label(form.leadTutors) }}
                {{ form_errors(form.leadTutors) }}
                {{ form_widget(form.leadTutors) }}
            </div>
        </div>
        <div class="row">
            <div class="large-12 columns">
                {{ form_label(form.tutors) }}
                {{ form_errors(form.tutors) }}
                {{ form_widget(form.tutors) }}
            </div>
        </div>
        <div class="row">
            <div class="large-12 columns" style="margin-top: 20px">
                <a href="javascript:void(0)" id="select_coursecodes" class="button small success">Select All Courses</a>
            </div>
        </div>
        <div class="row">
            <div class="large-12 columns">
                {{ form_label(form.coursecodes) }}
                {{ form_errors(form.coursecodes) }}
                {{ form_widget(form.coursecodes) }}
            </div>
        </div>
        {#
        This hidden form field contains the term for the schedule
        It is always set to the current term
        #}
        {{ form_errors(form.term) }}
        {{ form_widget(form.term) }}
        <div class="row">
            <div class="large-12 columns">
                {{ form_end(form) }}
                {{ form_widget(form.save) }}
            </div>
        </div>

    {% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function() {
            $(".chosen-select").chosen();

            $("#select_coursecodes").click(function() {
                if ($(this).text() == "Select All Courses") {
                    jQuery("#bethel_entitybundle_schedule_coursecodes input:checkbox").prop("checked", true);
                    $(this).text("Select No Courses");
                } else {
                    jQuery("#bethel_entitybundle_schedule_coursecodes input:checkbox").prop("checked", false);
                    $(this).text("Select All Courses");
                }

            });
        });
    </script>
{% endblock %}